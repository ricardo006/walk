sap.ui.define(["sap/ui/core/mvc/Controller","sap/ui/model/json/JSONModel","sap/m/MessageBox","../model/formatter","sap/ui/model/Filter","sap/ui/model/FilterOperator","sap/m/MessageToast"],function(e,t,o,n,i,s,r){"use strict";return e.extend("ui5.walkthrough.controller.InvoiceList",{formatter:n,onInit(){const e=new t({currency:"EUR"});this.getView().setModel(e,"view");const o=new t("https://jsonplaceholder.typicode.com/todos");o.attachRequestCompleted(function(){console.log("Dados carregados:",o.getProperty("/"))});this.getView().setModel(o,"invoice");this.sortDataById()},sortDataById:function(){var e=this.getView().getModel("invoice");var t=e.getProperty("/");t.sort(function(e,t){return e.id-t.id});e.setProperty("/",t)},onFilterInvoices(e){const t=[];const o=e.getParameter("query");if(o){t.push(new i("title",s.Contains,o))}const n=this.byId("invoiceList");const r=n.getBinding("items");r.filter(t)},onPress(e){const t=e.getSource();const o=this.getOwnerComponent().getRouter();o.navTo("detail",{invoicePath:window.encodeURIComponent(t.getBindingContext("invoice").getPath().substr(1))})},onShowDetails(e){const t=e.getSource();const o=this.getOwnerComponent().getRouter();o.navTo("detail",{invoicePath:window.encodeURIComponent(t.getBindingContext("invoice").getPath().substr(1))})},onToggleCompleted:function(e){var t=e.getSource();var o=this.getView().getModel("invoice");var n=t.getBindingContext("invoice");var i=n.getPath();var s=o.getProperty(i+"/completed");o.setProperty(i+"/completed",!s);var a=o.getProperty("/");a.forEach(function(e){if(e.id===parseInt(i.split("/")[1])){e.completed=!s}});o.setProperty("/",a);r.show("Status alterado com sucesso!")}})});
//# sourceMappingURL=InvoiceList.controller.js.map